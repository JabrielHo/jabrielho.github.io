---
const navLinks = [
  { label: "Experience", href: "#experience" },
  { label: "Projects", href: "#projects" },
  { label: "Certifications", href: "#certifications" },
];
---

<header
  id="site-header"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-stone-50/80 dark:bg-stone-900/80 backdrop-blur-xl border-b border-stone-200/60 dark:border-stone-700/60">
  <nav class="max-w-7xl mx-auto px-6 h-[70px] flex items-center justify-between" aria-label="Main navigation">
    <a href="/" class="text-xl font-bold text-stone-800 dark:text-stone-100 tracking-tight"> Jabriel Ho </a>

    <div class="hidden md:flex items-center gap-1">
      <ul class="flex items-center gap-1">
        {
          navLinks.map((link) => (
            <li>
              <a
                href={link.href}
                class="px-3 py-2 text-sm text-stone-500 dark:text-stone-400 hover:text-stone-800 dark:hover:text-stone-100 transition-colors duration-200 rounded-lg hover:bg-stone-100 dark:hover:bg-stone-800">
                {link.label}
              </a>
            </li>
          ))
        }
      </ul>
      <div class="flex items-center gap-1 ml-2 pl-2 border-l border-stone-200 dark:border-stone-700">
        <a
          href="https://github.com/JabrielHo"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 text-stone-400 hover:text-stone-700 dark:hover:text-stone-200 transition-colors duration-200 rounded-lg hover:bg-stone-100 dark:hover:bg-stone-800"
          aria-label="GitHub profile">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-4 h-4"
            fill="currentColor"
            viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
            ></path>
          </svg>
        </a>
        <a
          href="https://linkedin.com/in/jabrielho"
          target="_blank"
          rel="noopener noreferrer"
          class="p-2 text-stone-400 hover:text-stone-700 dark:hover:text-stone-200 transition-colors duration-200 rounded-lg hover:bg-stone-100 dark:hover:bg-stone-800"
          aria-label="LinkedIn profile">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-4 h-4"
            fill="currentColor"
            viewBox="0 0 24 24"
            aria-hidden="true">
            <path
              d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
            ></path>
          </svg>
        </a>
        <button
          id="theme-toggle"
          class="p-2 text-stone-400 hover:text-stone-700 dark:hover:text-stone-200 transition-colors duration-200 rounded-lg hover:bg-stone-100 dark:hover:bg-stone-800"
          aria-label="Toggle dark mode">
          <!-- Sun icon (visible in dark mode) -->
          <svg
            class="w-4 h-4 hidden dark:block"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            aria-hidden="true">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
            ></path>
          </svg>
          <!-- Moon icon (visible in light mode) -->
          <svg
            class="w-4 h-4 block dark:hidden"
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="2"
            stroke="currentColor"
            aria-hidden="true">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
            ></path>
          </svg>
        </button>
      </div>
    </div>

    <div class="md:hidden flex items-center gap-1">
      <button
        id="theme-toggle-mobile"
        class="p-2 text-stone-400 hover:text-stone-700 dark:hover:text-stone-200 transition-colors duration-200 rounded-lg"
        aria-label="Toggle dark mode">
        <svg
          class="w-5 h-5 hidden dark:block"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          aria-hidden="true">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
          ></path>
        </svg>
        <svg
          class="w-5 h-5 block dark:hidden"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="2"
          stroke="currentColor"
          aria-hidden="true">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
          ></path>
        </svg>
      </button>
      <button
        id="mobile-menu-btn"
        class="flex flex-col gap-1.5 p-2"
        aria-label="Toggle menu"
        aria-expanded="false"
        aria-controls="mobile-menu">
        <span class="block w-5 h-0.5 bg-stone-500 dark:bg-stone-400 transition-all duration-300" aria-hidden="true"
        ></span>
        <span class="block w-5 h-0.5 bg-stone-500 dark:bg-stone-400 transition-all duration-300" aria-hidden="true"
        ></span>
        <span
          class="block w-3.5 h-0.5 bg-stone-500 dark:bg-stone-400 transition-all duration-300 ml-auto"
          aria-hidden="true"></span>
      </button>
    </div>
  </nav>

  <div
    id="mobile-menu"
    class="md:hidden hidden bg-stone-50 dark:bg-stone-900 border-t border-stone-100 dark:border-stone-800"
    role="menu">
    <ul class="px-6 py-4 flex flex-col gap-1">
      {
        navLinks.map((link) => (
          <li role="none">
            <a
              href={link.href}
              role="menuitem"
              class="block px-4 py-3 text-stone-500 dark:text-stone-400 hover:text-stone-800 dark:hover:text-stone-100 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-lg transition-all duration-200 mobile-nav-link">
              {link.label}
            </a>
          </li>
        ))
      }
    </ul>
    <div class="px-6 pb-4 flex items-center gap-3 border-t border-stone-100 dark:border-stone-800 pt-3">
      <a
        href="https://github.com/JabrielHo"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center gap-2 px-4 py-3 text-stone-500 dark:text-stone-400 hover:text-stone-800 dark:hover:text-stone-100 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-lg transition-all duration-200"
        aria-label="GitHub profile">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="w-4 h-4"
          fill="currentColor"
          viewBox="0 0 24 24"
          aria-hidden="true">
          <path
            d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"
          ></path>
        </svg>
        GitHub
      </a>
      <a
        href="https://linkedin.com/in/jabrielho"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center gap-2 px-4 py-3 text-stone-500 dark:text-stone-400 hover:text-stone-800 dark:hover:text-stone-100 hover:bg-stone-100 dark:hover:bg-stone-800 rounded-lg transition-all duration-200"
        aria-label="LinkedIn profile">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="w-4 h-4"
          fill="currentColor"
          viewBox="0 0 24 24"
          aria-hidden="true">
          <path
            d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
          ></path>
        </svg>
        LinkedIn
      </a>
    </div>
  </div>
</header>

<script>
  const btn = document.getElementById("mobile-menu-btn")!;
  const menu = document.getElementById("mobile-menu")!;
  const bars = btn.querySelectorAll("span");

  let open = false;

  function setMenuState(isOpen: boolean) {
    open = isOpen;
    btn.setAttribute("aria-expanded", String(open));
    menu.classList.toggle("hidden", !open);

    if (open) {
      bars[0].style.transform = "rotate(45deg) translate(4px, 4px)";
      bars[1].style.opacity = "0";
      bars[2].style.transform = "rotate(-45deg) translate(2px, -2px)";
      bars[2].style.width = "20px";
    } else {
      bars[0].style.transform = "";
      bars[1].style.opacity = "1";
      bars[2].style.transform = "";
      bars[2].style.width = "14px";
    }
  }

  btn.addEventListener("click", () => setMenuState(!open));

  document.querySelectorAll(".mobile-nav-link").forEach((link) => {
    link.addEventListener("click", () => setMenuState(false));
  });

  // Dark mode toggle
  function toggleTheme() {
    const isDark = document.documentElement.classList.toggle("dark");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  }

  document.getElementById("theme-toggle")?.addEventListener("click", toggleTheme);
  document.getElementById("theme-toggle-mobile")?.addEventListener("click", toggleTheme);
</script>
